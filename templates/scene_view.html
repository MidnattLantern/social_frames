{% extends "base.html" %} {% block content %}
{% load crispy_forms_tags %}

<h1>Sketches for {{ sketch_4_header }}</h1>

<!-- see models.py SketchItem() -->
{% if user.is_authenticated %}
<!-- this <p> mimics Finder so that the user purpose feels familiar -->
<p><a href="{% url 'account_logout' %}">{{ user.username }}</a>  / <a href="{% url 'home_url_path' %}">Projects</a> / <a href="{% url 'home_url_path' %}">Episodes</a> / <a href="{% url 'home_url_path' %}">Scenes</a> / <strong>Sketches</strong></p>
<br>
<hr>

<p>notes:</p>
<p> {{ sketch_4_header }}</p>

{% for i in sketch_item %}
<div>
    <div>
        <img src="{{ i.sketch_image.url }}" style="max-width: 100px; max-width: auto;">
    </div>
    <p>Artist: {{ i.sketch_artist }}</p>
</div>
<p>Sketch: {{ i.sketch_name }} </p>
<p>director's comment:</p>
<p>{{ i.sketch_directors_comment }}</p>

<!-- edit form -->
<div class="new_item_styling">
  <p>Edit {{ i.sketch_name }}</p>
  <form method="post">
    {{ edit_sketch_item | crispy }}
    {% csrf_token %}
    <button type="submit" name="edit_sketch" value="{{ i.sketch_slug }}">Save changes</button>
  </form>
</div>

<!-- comment form -->
<div class="new_item_styling">
  <p>Comment {{ i.sketch_name }}</p>
  <form method="post">
    {{ comment_sketch_item | crispy }}
    {% csrf_token %}
    <button type="submit" name="comment_sketch" value="{{ i.sketch_slug }}">Save comment</button>
  </form>
</div>

<!-- delete form -->
<form action="" method="POST">
    {% csrf_token %} {{ delete_sketch_item | crispy }}
    <button type="submit" name="delete_sketch" value="{{ i.sketch_slug }}">Delete sketch</button>
  </form>

<hr>
<br>

{% endfor %}
<div class="new_item_styling">
<p>upload sketch</p>
<form action="" method="POST" style="margin-top: 1.3em;" enctype="multipart/form-data">
    {{ create_sketch_item | crispy }}
    {% csrf_token %}
    <button type="submit" class="btn btn-signup btn-lg" name="add_sketch">Submit</button>
  </form>
</div>

{% endif %}
{% endblock %}
