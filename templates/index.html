{% extends "base.html" %} {% block content %}
{% load crispy_forms_tags %}
<h1>Projects</h1>
<!-- Note for all views: any content is only accessible when signed in -->
{% if user.is_authenticated %}
<!-- this <p> mimics Finder so that the user purpose feels familiar -->
<p><a href="{% url 'account_logout' %}">{{ user.username }}</a> / <strong>Projects</strong></p>

<hr>
<br>
<!-- Display if not signed in -->
{% else %}
<a href="{% url 'account_login' %}">sign_in</a>
<br>
<a href="{% url 'account_signup' %}">sign_up</a>
<br>
{% endif %}

<div class="test_window">

{% for i in project_item %}
<a href="{% url 'project_url_path' i.project_slug %}">
  <!-- project name -->
  {{ i.project_name }}
</a>
<br>

<!-- edit form -->
<div class="new_item_styling">
  <p>Edit {{ i.project_name }}</p>
  <form method="post">
    {{ edit_project_item | crispy }}
    {% csrf_token %}
    <button type="submit" name="edit_project" value="{{ i.project_slug }}">Save changes</button>
  </form>
</div>

<!-- delete form -->
<div>
  <form action="" method="POST">
    {% csrf_token %} {{ delete_project_item | crispy }}
    <button class="delete-button" type="submit" name="delete_project" value="{{ i.project_slug }}">Delete project</button>
  </form>
</div>


<hr>
<br>

{% endfor %}
<div class="new_item_styling">
  <p>Create new project</p>

  <form method="post" style="margin-top: 1.3em;">
  {{ create_project_item | crispy }}
  {% csrf_token %}
  <button type="submit" class="" name="add_project">Create project</button>
</form>
</div>

</div>


{% endblock %}
